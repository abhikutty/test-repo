<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Day 2 — Counter (Pass 4: React)</title>
  <style>
    :root {
      --bg: #f7f7f8; --panel: #ffffff; --text: #101114; --muted: #6b7280;
      --brand: #2563eb; --brand-hover: #1d4ed8; --danger: #ef4444;
      --shadow: 0 10px 28px rgba(0,0,0,0.08); --radius: 14px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: linear-gradient(180deg, var(--bg), #ececf1 80%);
      color: var(--text); display: grid; place-items: center;
    }
    .wrap { width: min(560px, 92vw); background: var(--panel); border-radius: var(--radius); box-shadow: var(--shadow); padding: 28px; }
    .header { display: flex; align-items: baseline; justify-content: space-between; margin-bottom: 18px; }
    h1 { font-size: 18px; margin: 0; }
    .hint { color: var(--muted); font-size: 13px; }
    .value { text-align: center; font-size: clamp(40px, 10vw, 64px); font-weight: 700; line-height: 1.1; padding: 12px 0 18px; }
    .controls { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 12px; }
    button {
      appearance: none; border: 0; background: var(--brand); color: white; padding: 12px 16px;
      border-radius: 10px; font-size: 16px; cursor: pointer; transition: transform .06s ease, background-color .15s ease, opacity .15s ease;
    }
    button:hover { background: var(--brand-hover); }
    button:active { transform: translateY(1px); }
    button:focus-visible { outline: 0; box-shadow: 0 0 0 3px rgba(37, 99, 235, .35); }
    button.secondary { background: #111827; }
    button.secondary:hover { opacity: .9; }
    button.danger { background: var(--danger); }
    button[disabled] { opacity: .45; cursor: not-allowed; }
    .row { display: flex; gap: 12px; align-items: center; justify-content: center; margin-top: 14px; }
    input[type="number"] { width: 90px; padding: 10px 12px; border-radius: 10px; border: 1px solid #d1d5db; font-size: 14px; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React & Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;

    function Counter() {
      const [count, setCount] = useState(0);
      const [step, setStep] = useState(1);
      const min = 0;

      const increment = useCallback(() => setCount(c => c + step), [step]);
      const decrement = useCallback(() => setCount(c => Math.max(min, c - step)), [step]);
      const reset = useCallback(() => setCount(0), []);

      // Keyboard shortcuts: + / − / r
      useEffect(() => {
        const onKey = (e) => {
          if (e.key === '+' || e.key === '=') increment();
          if (e.key === '-' || e.key === '_') decrement();
          if (e.key.toLowerCase() === 'r') reset();
        };
        window.addEventListener('keydown', onKey);
        return () => window.removeEventListener('keydown', onKey);
      }, [increment, decrement, reset]);

      const onStepChange = (e) => {
        const n = parseInt(e.target.value, 10);
        setStep(Number.isNaN(n) || n <= 0 ? 1 : n);
      };

      return (
        <div className="wrap">
          <div className="header">
            <h1>Day 2 — Counter</h1>
            <div className="hint">Shortcuts: + / − / r</div>
          </div>

          <div className="value" aria-live="polite">{count}</div>

          <div className="controls">
            <button disabled={count <= min} onClick={decrement} aria-label="Decrease">−</button>
            <button onClick={increment} aria-label="Increase">+</button>
            <button className="danger" onClick={reset} aria-label="Reset">Reset</button>
          </div>

          <div className="row" aria-label="Step controls">
            <label htmlFor="step" className="sr-only">Step</label>
            <span className="hint">Step</span>
            <input id="step" type="number" min="1" value={step} onChange={onStepChange} />
            {/* In React, changing the input updates state immediately; no Apply btn needed */}
            <button className="secondary" onClick={() => { /* kept for parity; no-op */ }}>Apply</button>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<Counter />);
  </script>
</body>
</html>
